<html>
<head>
    <link rel="stylesheet" type="text/css" href="style/cc.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="script/kinetic-v3.8.0.js"></script>

</head>
<body>
    <div id="main"></div>
  
    <script>
    var stage = new Kinetic.Stage("main", 1024, 640);
    var layer = new Kinetic.Layer();
    var enemy_layer = new Kinetic.Layer();
    var meme_layer = new Kinetic.Layer();
    var running = false;
    var debug = true;
    var recalculate = false;
    const width = 10;
    const height = 8;
    
    console.log("creating metrix");
    var matrix = new Array(width);
    for (var i = 0; i < width; i++) {
        matrix[i] = new Array(height);
        for (var j = 0; j < height; j++) {
            matrix[i][j] = "empty";
        }
    }
    matrix[0][0] = "reserved";
    matrix[width-1][height-1] = "reserved";

    window.onload = init;
    function init(){
        var sources = {
            background: "img/background.png",
        };
        var memes = {
            lol: "img/lol.png",
            lol_glow: "img/lol_glow.png",
            lol_na: "img/lol_na.png",
            wdir: "img/what_did_i_read.png",
            wdir_glow: "img/what_did_i_read_glow.png",
            wdir_na: "img/what_did_i_read_na.png",
        };
        var enemies = {
            derpina: "img/derpina.png",
        }
        //var canvas= layer.getCanvas();
        //var context = layer.getContext();
        var current_enemy = null;
        var coordinate = null;
        var direction = null;
        var dieId = null;
        
        loadBackground(sources);
        loadMeme(memes);
        loadEnemy(enemies);
        
        stage.add(layer);
        stage.add(meme_layer);
        stage.add(enemy_layer);
    }

    </script>
    <script src="script/meme.js"></script>
    <script src="script/enemy.js"></script>
    <script src="script/background.js"></script>    
</body>
</html>
